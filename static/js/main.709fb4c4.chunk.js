(this["webpackJsonpbackup-decryptor"]=this["webpackJsonpbackup-decryptor"]||[]).push([[0],{128:function(e,t,n){},130:function(e,t,n){},134:function(e,t){},136:function(e,t){},146:function(e,t){},148:function(e,t){},175:function(e,t){},177:function(e,t){},178:function(e,t){},183:function(e,t){},185:function(e,t){},204:function(e,t){},216:function(e,t){},219:function(e,t){},255:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n.n(r),a=n(121),o=n.n(a),s=(n(128),n(9)),u=n.n(s),i=n(20),l=n(36),f=n(14),d=(n(130),n(12)),p=n(69),b=n.n(p),h=n(122),j=n(123),v=function(){var e=Object(i.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(n,t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.a)(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function e(t){var n=this;Object(d.a)(this,e),this.masterSeedPhrase=void 0,this.getMasterSeedPhrase=function(){return n.masterSeedPhrase},this.getSeedPhrase=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.publickeys.ed25519,c=t.publickeys.ed25519.pubKey.data||Array.from(r.toBuffer()),e.abrupt("return",O(t,(a="".concat(n.masterSeedPhrase).concat(c.toString()),b.a.SHA256(a).toString(b.a.enc.Hex))));case 3:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),this.masterSeedPhrase=t};m.fromPassword=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,n);case 2:return r=e.sent,e.abrupt("return",new m(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m.fromRecoveryCode=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,j.entropyToMnemonic(r);case 2:return n=e.sent,e.abrupt("return",new m(n));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();var y=n.p+"static/media/copy.c0a32f3c.svg",w=n(4);var x=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),o=Object(f.a)(a,2),s=o[0],d=o[1],p=Object(r.useState)([]),b=Object(f.a)(p,2),h=b[0],j=b[1],v=Object(r.useState)(""),O=Object(f.a)(v,2),x=O[0],S=O[1],g=Object(r.useState)(""),k=Object(f.a)(g,2),P=k[0],C=k[1],N=Object(r.useState)(!1),R=Object(f.a)(N,2),A=R[0],B=R[1],F=Object(r.useState)(void 0),M=Object(f.a)(F,2),D=M[0],E=M[1],I=Object(r.useState)([]),J=Object(f.a)(I,2),K=J[0],T=J[1],H=Object(r.useState)(""),q=Object(f.a)(H,2),G=q[0],X=q[1];Object(r.useEffect)((function(){try{if(s)if(X(""),S(""),T([]),C(""),console.log(s),s.masterKey){var e;E(s.masterKey);var t=Object.values(null===s||void 0===s||null===(e=s.accounts)||void 0===e?void 0:e.wallets);j(t.map((function(e){return Object(l.a)(Object(l.a)({},e.walletInfo.data),{},{label:e.label})})))}else E(void 0),j([Object(l.a)(Object(l.a)({},s),{},{label:"Seed Phrase"})])}catch(n){console.error(n)}}),[s]);var z=Object(r.useRef)(null),L=function(e){Promise.all(h.map((function(t){return e.getSeedPhrase(t).then((function(e){return{label:t.label,phrases:e}}))}))).then((function(e){T(e),X("")})).catch((function(e){console.error(e),T([]),X(e)}))},Q=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),D?A?m.fromRecoveryCode(P).then(L).catch((function(e){console.error(e),T([]),X(e)})):m.fromPassword(x,D).then(L).catch((function(e){console.error(e),T([]),X(e)})):m.fromPassword(x,h[0]).then((function(e){return[{label:h[0].label,phrases:e.getMasterSeedPhrase()}]})).then((function(e){T(e),X("")})).catch((function(e){console.error(e),T([]),X(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)("header",{className:"App-header",children:"XDEFI Backup Decryptor"}),Object(w.jsx)("h2",{children:"Select the a backup file to be decrypted"}),Object(w.jsxs)("div",{className:"body",children:[""===n,Object(w.jsx)("input",{type:"file",name:"file",ref:z,style:{display:"none"},required:!0,onChange:function(e){var t=e.target;if(t){var n=t.files;if(n){if(n.length){var r=n[0];c(r.name);var a=new FileReader;a.readAsText(r),a.onloadend=function(e){if(e.target&&e.target.result)try{var t=JSON.parse(e.target.result.toString());d(t)}catch(n){console.log(n)}}}}else c("Browse")}}}),Object(w.jsxs)("div",{className:"fileSelection",children:["Select File ",Object(w.jsxs)("button",{onClick:function(){z&&z.current&&z.current.click()},children:[" ",""===n?"Browse Files":n," "]})]}),!!h.length&&Object(w.jsxs)("form",{onSubmit:Q,children:[Object(w.jsx)("div",{className:"password",children:A?Object(w.jsxs)("div",{children:["Recovery Code ",Object(w.jsx)("input",{placeholder:"  recovery code",onChange:function(e){return C(e.target.value)},type:"text",title:"recoveryCode",name:"recoveryCode",value:P}),Object(w.jsx)("button",{type:"button",onClick:function(){B(!1)},children:" Switch to password"})]}):Object(w.jsxs)("div",{children:["Password ",Object(w.jsx)("input",{placeholder:"  password",onChange:function(e){return S(e.target.value)},type:"password",title:"password",name:"password",value:x}),D&&Object(w.jsx)("button",{type:"button",onClick:function(){B(!0)},children:"Switch to Recovery Code"})]})}),Object(w.jsx)("button",{type:"submit",children:"Get Seed Phrase"})]}),Object(w.jsx)("div",{className:"accounts",children:K.map((function(e){return Object(w.jsxs)("div",{className:"account",children:[e.label,": ",e.phrases,Object(w.jsx)("img",{src:y,onClick:function(){navigator.clipboard.writeText(e.phrases).then((function(){return alert("Copied seed phrase")}))},alt:"copy"})]},e.label)}))}),""!==G&&Object(w.jsxs)("div",{className:"error",children:[" ",G," "]})]})]})};o.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(x,{})}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.709fb4c4.chunk.js.map