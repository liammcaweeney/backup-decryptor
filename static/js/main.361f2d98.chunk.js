(this["webpackJsonpbackup-decryptor"]=this["webpackJsonpbackup-decryptor"]||[]).push([[0],{137:function(e,t,r){},139:function(e,t,r){},143:function(e,t){},145:function(e,t){},154:function(e,t){},156:function(e,t){},183:function(e,t){},184:function(e,t){},189:function(e,t){},191:function(e,t){},198:function(e,t){},217:function(e,t){},268:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),c=r(130),o=r.n(c),s=(r(137),r(10)),i=r.n(s),u=r(22),l=r(14),d=r(17),b=(r(139),r(13)),f=r(71),p=r.n(f),j=r(131),h=r(132),v=function(){var e=Object(u.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(r,t));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.a)(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function e(t){var r=this;Object(b.a)(this,e),this.masterSeedPhrase=void 0,this.getMasterSeedPhrase=function(){return r.masterSeedPhrase},this.getSeedPhrase=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===t||void 0===t?void 0:t.keystore)?t.keystore:t,a=n.publickeys.ed25519,c=a.pubKey.data||Array.from(a.toBuffer()),s="".concat(r.masterSeedPhrase).concat(c.toString()),o=p.a.SHA256(s).toString(p.a.enc.Hex),e.abrupt("return",O(n,o));case 5:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}(),this.masterSeedPhrase=t};m.fromPassword=function(){var e=Object(u.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,r);case 2:return n=e.sent,e.abrupt("return",new m(n));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m.fromRecoveryCode=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t,h.entropyToMnemonic(n);case 2:return r=e.sent,e.abrupt("return",new m(r));case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();var y=r.p+"static/media/copy.c0a32f3c.svg",w=r(4);var x=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(),o=Object(d.a)(c,2),s=o[0],b=o[1],f=Object(n.useState)([]),p=Object(d.a)(f,2),j=p[0],h=p[1],v=Object(n.useState)(""),O=Object(d.a)(v,2),x=O[0],S=O[1],g=Object(n.useState)(""),k=Object(d.a)(g,2),P=k[0],C=k[1],K=Object(n.useState)(!1),N=Object(d.a)(K,2),R=N[0],A=N[1],B=Object(n.useState)(void 0),D=Object(d.a)(B,2),I=D[0],F=D[1],M=Object(n.useState)([]),E=Object(d.a)(M,2),J=E[0],T=E[1],H=Object(n.useState)(""),q=Object(d.a)(H,2),G=q[0],L=q[1];Object(n.useEffect)((function(){try{if(s)if(L(""),S(""),T([]),C(""),console.log(s),s.masterKey){var e;F(s.masterKey);var t=Object.values(null===s||void 0===s||null===(e=s.accounts)||void 0===e?void 0:e.wallets);h(t.map((function(e){return Object(l.a)(Object(l.a)({},e.walletInfo.data),{},{label:e.label})})))}else if(s.masterKeystore){var r;F(s.masterKeystore.keystore.masterKey);var n=Object.values(null===s||void 0===s||null===(r=s.wallets)||void 0===r?void 0:r.wallets);h(n.map((function(e){return Object(l.a)(Object(l.a)({},e.walletInfo.data),{},{label:e.label})})))}else if(s.criticalData){var a;F(s.criticalData.masterKey);var c=Object.values(null===s||void 0===s||null===(a=s.accounts)||void 0===a?void 0:a.wallets);h(c.map((function(e){return Object(l.a)(Object(l.a)({},e.walletInfo.data),{},{label:e.label})})))}else s.rootKeystore?(F(void 0),h([Object(l.a)(Object(l.a)({},s.rootKeystore),{},{label:s.rootLabel})])):(F(void 0),h([Object(l.a)(Object(l.a)({},s),{},{label:"Seed Phrase"})]))}catch(o){console.error(o)}}),[s]);var X=Object(n.useRef)(null),z=function(e){Promise.all(j.map((function(t){return e.getSeedPhrase(t).then((function(e){return{label:t.label,phrases:e}}))}))).then((function(e){T(e),L("")})).catch((function(e){console.error(e),T([]),L(e)}))},Q=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I?R?m.fromRecoveryCode(P).then(z).catch((function(e){console.error(e),T([]),L(e)})):m.fromPassword(x,I).then(z).catch((function(e){console.error(e),T([]),L(e)})):m.fromPassword(x,j[0]).then((function(e){return[{label:j[0].label,phrases:e.getMasterSeedPhrase()}]})).then((function(e){T(e),L("")})).catch((function(e){console.error(e),T([]),L(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)("header",{className:"App-header",children:"XDEFI Backup Decryptar"}),Object(w.jsx)("h2",{children:"Select the a backup file to be decrypted"}),Object(w.jsxs)("div",{className:"body",children:[""===r,Object(w.jsx)("input",{type:"file",name:"file",ref:X,style:{display:"none"},required:!0,onChange:function(e){var t=e.target;if(t){var r=t.files;if(r){if(r.length){var n=r[0];a(n.name);var c=new FileReader;c.readAsText(n),c.onloadend=function(e){if(e.target&&e.target.result)try{var t=JSON.parse(e.target.result.toString());b(t)}catch(r){console.log(r)}}}}else a("Browse")}}}),Object(w.jsxs)("div",{className:"fileSelection",children:["Select File ",Object(w.jsxs)("button",{onClick:function(){X&&X.current&&X.current.click()},children:[" ",""===r?"Browse Files":r," "]})]}),!!j.length&&Object(w.jsxs)("form",{onSubmit:Q,children:[Object(w.jsx)("div",{className:"password",children:R?Object(w.jsxs)("div",{children:["Recovery Code ",Object(w.jsx)("input",{placeholder:"  recovery code",onChange:function(e){return C(e.target.value)},type:"text",title:"recoveryCode",name:"recoveryCode",value:P}),Object(w.jsx)("button",{type:"button",onClick:function(){A(!1)},children:" Switch to password"})]}):Object(w.jsxs)("div",{children:["Password ",Object(w.jsx)("input",{placeholder:"  password",onChange:function(e){return S(e.target.value)},type:"password",title:"password",name:"password",value:x}),I&&Object(w.jsx)("button",{type:"button",onClick:function(){A(!0)},children:"Switch to Recovery Code"})]})}),Object(w.jsx)("button",{type:"submit",children:"Get Seed Phrase"})]}),Object(w.jsx)("div",{className:"accounts",children:J.map((function(e){return Object(w.jsxs)("div",{className:"account",children:[e.label,": ",e.phrases,Object(w.jsx)("img",{src:y,onClick:function(){navigator.clipboard.writeText(e.phrases).then((function(){return alert("Copied seed phrase")}))},alt:"copy"})]},e.label)}))}),""!==G&&Object(w.jsxs)("div",{className:"error",children:[" ",G," "]})]})]})};o.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(x,{})}),document.getElementById("root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.361f2d98.chunk.js.map