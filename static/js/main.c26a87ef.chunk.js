(this["webpackJsonpbackup-decryptor"]=this["webpackJsonpbackup-decryptor"]||[]).push([[0],{128:function(e,t,r){},130:function(e,t,r){},134:function(e,t){},136:function(e,t){},146:function(e,t){},148:function(e,t){},175:function(e,t){},177:function(e,t){},178:function(e,t){},183:function(e,t){},185:function(e,t){},204:function(e,t){},216:function(e,t){},219:function(e,t){},255:function(e,t,r){"use strict";r.r(t);var n=r(6),c=r.n(n),a=r(121),s=r.n(a),o=(r(128),r(9)),u=r.n(o),i=r(20),l=r(26),f=r(14),d=(r(130),r(12)),b=r(69),p=r.n(b),j=r(122),h=r(123),v=function(){var e=Object(i.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(r,t));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.a)(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function e(t){var r=this;Object(d.a)(this,e),this.masterSeedPhrase=void 0,this.getMasterSeedPhrase=function(){return r.masterSeedPhrase},this.getSeedPhrase=function(){var e=Object(i.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.publickeys.ed25519,c=t.publickeys.ed25519.pubKey.data||Array.from(n.toBuffer()),e.abrupt("return",O(t,(a="".concat(r.masterSeedPhrase).concat(c.toString()),p.a.SHA256(a).toString(p.a.enc.Hex))));case 3:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),this.masterSeedPhrase=t};m.fromPassword=function(){var e=Object(i.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,r);case 2:return n=e.sent,e.abrupt("return",new m(n));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m.fromRecoveryCode=function(){var e=Object(i.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t,h.entropyToMnemonic(n);case 2:return r=e.sent,e.abrupt("return",new m(r));case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();var y=r.p+"static/media/copy.c0a32f3c.svg",w=r(4);var x=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(),s=Object(f.a)(a,2),o=s[0],d=s[1],b=Object(n.useState)([]),p=Object(f.a)(b,2),j=p[0],h=p[1],v=Object(n.useState)(""),O=Object(f.a)(v,2),x=O[0],S=O[1],g=Object(n.useState)(""),k=Object(f.a)(g,2),P=k[0],C=k[1],N=Object(n.useState)(!1),K=Object(f.a)(N,2),R=K[0],A=K[1],B=Object(n.useState)(void 0),F=Object(f.a)(B,2),I=F[0],M=F[1],D=Object(n.useState)([]),E=Object(f.a)(D,2),J=E[0],T=E[1],H=Object(n.useState)(""),q=Object(f.a)(H,2),G=q[0],X=q[1];Object(n.useEffect)((function(){try{if(o)if(X(""),S(""),T([]),C(""),console.log(o),o.masterKey){var e;M(o.masterKey);var t=Object.values(null===o||void 0===o||null===(e=o.accounts)||void 0===e?void 0:e.wallets);h(t.map((function(e){return Object(l.a)(Object(l.a)({},e.walletInfo.data),{},{label:e.label})})))}else if(o.masterKeystore){var r;M(o.masterKeystore.masterKey);var n=Object.values(null===o||void 0===o||null===(r=o.accounts)||void 0===r?void 0:r.wallets);h(n.map((function(e){return Object(l.a)(Object(l.a)({},e.walletInfo.data),{},{label:e.label})})))}else M(void 0),h([Object(l.a)(Object(l.a)({},o),{},{label:"Seed Phrase"})])}catch(c){console.error(c)}}),[o]);var z=Object(n.useRef)(null),L=function(e){Promise.all(j.map((function(t){return e.getSeedPhrase(t).then((function(e){return{label:t.label,phrases:e}}))}))).then((function(e){T(e),X("")})).catch((function(e){console.error(e),T([]),X(e)}))},Q=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I?R?m.fromRecoveryCode(P).then(L).catch((function(e){console.error(e),T([]),X(e)})):m.fromPassword(x,I).then(L).catch((function(e){console.error(e),T([]),X(e)})):m.fromPassword(x,j[0]).then((function(e){return[{label:j[0].label,phrases:e.getMasterSeedPhrase()}]})).then((function(e){T(e),X("")})).catch((function(e){console.error(e),T([]),X(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)("header",{className:"App-header",children:"XDEFI Backup Decryptor"}),Object(w.jsx)("h2",{children:"Select the a backup file to be decrypted"}),Object(w.jsxs)("div",{className:"body",children:[""===r,Object(w.jsx)("input",{type:"file",name:"file",ref:z,style:{display:"none"},required:!0,onChange:function(e){var t=e.target;if(t){var r=t.files;if(r){if(r.length){var n=r[0];c(n.name);var a=new FileReader;a.readAsText(n),a.onloadend=function(e){if(e.target&&e.target.result)try{var t=JSON.parse(e.target.result.toString());d(t)}catch(r){console.log(r)}}}}else c("Browse")}}}),Object(w.jsxs)("div",{className:"fileSelection",children:["Select File ",Object(w.jsxs)("button",{onClick:function(){z&&z.current&&z.current.click()},children:[" ",""===r?"Browse Files":r," "]})]}),!!j.length&&Object(w.jsxs)("form",{onSubmit:Q,children:[Object(w.jsx)("div",{className:"password",children:R?Object(w.jsxs)("div",{children:["Recovery Code ",Object(w.jsx)("input",{placeholder:"  recovery code",onChange:function(e){return C(e.target.value)},type:"text",title:"recoveryCode",name:"recoveryCode",value:P}),Object(w.jsx)("button",{type:"button",onClick:function(){A(!1)},children:" Switch to password"})]}):Object(w.jsxs)("div",{children:["Password ",Object(w.jsx)("input",{placeholder:"  password",onChange:function(e){return S(e.target.value)},type:"password",title:"password",name:"password",value:x}),I&&Object(w.jsx)("button",{type:"button",onClick:function(){A(!0)},children:"Switch to Recovery Code"})]})}),Object(w.jsx)("button",{type:"submit",children:"Get Seed Phrase"})]}),Object(w.jsx)("div",{className:"accounts",children:J.map((function(e){return Object(w.jsxs)("div",{className:"account",children:[e.label,": ",e.phrases,Object(w.jsx)("img",{src:y,onClick:function(){navigator.clipboard.writeText(e.phrases).then((function(){return alert("Copied seed phrase")}))},alt:"copy"})]},e.label)}))}),""!==G&&Object(w.jsxs)("div",{className:"error",children:[" ",G," "]})]})]})};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(x,{})}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.c26a87ef.chunk.js.map